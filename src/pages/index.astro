---
import Layout from "../layouts/Layout.astro";
---

<Layout title="Welcome to Astro.">
  <h1 class="text-4xl font-semibold p-10 text-center">
    Prueba cambiar colores con imagenes
  </h1>
  <main class="flex flex-col lg:flex-row justify-center gap-20">
    <div class="text-center flex flex-col gap-2">
      <h2 class="text-2xl">3 colores mas prominentes</h2>
      <img
        id="img"
        src="agnico-logo.png"
        alt=""
        class="w-96 bg-white rounded p-4 m-auto"
      />
      <div class="flex gap-2">
        <div id="color1" class="m-auto p-3 rounded text-white">color 1</div>
        <div id="color2" class="m-auto p-3 rounded text-white">color 2</div>
        <div id="color3" class="m-auto p-3 rounded text-gray-900">color 3</div>
      </div>
    </div>
    <div class="text-center flex flex-col gap-2">
      <h2 class="text-2xl">Average</h2>
      <img id="img2" src="dracula-wp.png" alt="" class="w-96 m-auto" />
      <div class="flex gap-2">
        <div id="color4" class="m-auto p-3 rounded text-white">color 1</div>
      </div>
    </div>
  </main>
</Layout>

<script>
  import { prominent, average } from "color.js";

  // prominent 3 colors

  const color1 = document.getElementById("color1");
  const color2 = document.getElementById("color2");
  const color3 = document.getElementById("color3");

  const img = document.getElementById("img");
  const src = img.getAttribute("src");

  const colores = await prominent(src);

  color1.style.backgroundColor = `rgb(${colores[0][0]}, ${colores[0][1]}, ${colores[0][2]})`;
  color2.style.backgroundColor = `rgb(${colores[1][0]}, ${colores[1][1]}, ${colores[1][2]})`;
  color3.style.backgroundColor = `rgb(${colores[2][0]}, ${colores[2][1]}, ${colores[2][2]})`;

  // average

  const color4 = document.getElementById("color4");

  const img2 = document.getElementById("img2");
  const src2 = img2.getAttribute("src");

  const colores2 = await average(src2);
  console.log(colores2);

  color4.style.backgroundColor = `rgb(${colores2[0]}, ${colores2[1]}, ${colores2[2]})`;
</script>
